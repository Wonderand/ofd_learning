let isDraw ;let isStage;function creatStoage(id) {    // if (!isDraw){    //     alert("不能重复签章")    //     return;    // }    console.log(id.value)    let test = Number(id.value -1);    console.log(typeof test)    var canvasWrapper = document.getElementById("container" + test);    var width = canvasWrapper.offsetWidth;    var height = canvasWrapper.offsetHeight;    console.log("canvasWrapper.width: "+width)    console.log("canvasWrapper.height: "+height)    if (isStage==null){        var stage = new Konva.Stage({            container: 'container'+test,            width: width,            height: height,        });        var layer = new Konva.Layer();        stage.add(layer);        var imageObj = new Image();        isStage = false;    }    // imageObj.onload = function () {    //     var yoda = new Konva.Image({    //         x: 50,    //         y: 50,    //         image: imageObj,    //         width: 106,    //         height: 106,    //         draggable: true,    //     });    //    //     // add the shape to the layer    //     layer.add(yoda);    //     stage.draw();    // };    canvasWrapper.addEventListener("click", function (ev) {        console.log(isDraw)        var x = ev.layerX;        var y = ev.layerY;        var xPercent = (x / width) * 100;        var yPercent = (y / height) * 100;        console.log("ev",ev)        console.log("xPercent: "+Math.round(xPercent),"yPercent: "+Math.round(yPercent))        if (!isDraw){            return;        }        console.log("click")        let pos = stage.getPointerPosition();        console.log(pos.x)        console.log(pos.y)        imageObj.onload = function () {            var yoda = new Konva.Image({                x: pos.x - 50,                y: pos.y - 50,                image: imageObj,                width: 100,                height: 100,                // draggable: true,            });            // add the shape to the layer            layer.add(yoda);        };        imageObj.src = './img/test.png';        isDraw = false;        var reqdata = {            page: page.value,            id: fileId,            pageX: Math.round(xPercent),            pageY: Math.round(yPercent)        }        var s = JSON.stringify(reqdata);        console.log(reqdata)        $.ajax({            url: "/ofd/sign/",            type: "POST",            dataType: "json",            contentType: "application/json; charset=utf-8",            //重要部分，data的传的是整个表单，不用大括号包裹；不用自定义变量名            data: s,            success: function (date) {            },            error: function (date) {            }        });    });    canvasWrapper.addEventListener("mousemove", function (ev) {    });    canvasWrapper.addEventListener("mouseup", function (ev) {    });}